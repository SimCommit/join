<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>join documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">join documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">












<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ContactDataService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/main-pages/shared-data/contact-data.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service for managing contact data operations with Firebase Firestore
Handles CRUD operations, contact organization, and real-time updates</p>

            </p>



            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#contactList" >contactList</a>
                            </li>
                            <li>
                                <a href="#currentUserId" >currentUserId</a>
                            </li>
                            <li>
                                <a href="#existingContactsList" >existingContactsList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#firestore" >firestore</a>
                            </li>
                            <li>
                                <a href="#initialDummyContactsList" >initialDummyContactsList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#injector" >injector</a>
                            </li>
                            <li>
                                <a href="#notInLogIn" >notInLogIn</a>
                            </li>
                            <li>
                                <a href="#selectedContactId$" >selectedContactId$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#selectedContactIdSubject" >selectedContactIdSubject</a>
                            </li>
                            <li>
                                <a href="#signUpButtonVisible" >signUpButtonVisible</a>
                            </li>
                            <li>
                                <a href="#toastService" >toastService</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#unsubList" >unsubList</a>
                            </li>
                            <li>
                                <a href="#userList" >userList</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addContact" >addContact</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addContactToUserCollection" >addContactToUserCollection</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addCurrentUserToContacts" >addCurrentUserToContacts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addUser" >addUser</a>
                            </li>
                            <li>
                                <a href="#addUserToUserList" >addUserToUserList</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkForRefillContacts" >checkForRefillContacts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#connectContactStream" >connectContactStream</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#createContactFinder" >createContactFinder</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteContact" >deleteContact</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteContactsFromLastSession" >deleteContactsFromLastSession</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#disconnectContactStream" >disconnectContactStream</a>
                            </li>
                            <li>
                                <a href="#extractInitials" >extractInitials</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fillContactsWithDummyData" >fillContactsWithDummyData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#findContactInList" >findContactInList</a>
                            </li>
                            <li>
                                <a href="#getCleanJson" >getCleanJson</a>
                            </li>
                            <li>
                                <a href="#getContactById" >getContactById</a>
                            </li>
                            <li>
                                <a href="#getContactRef" >getContactRef</a>
                            </li>
                            <li>
                                <a href="#getDummyContactsRef" >getDummyContactsRef</a>
                            </li>
                            <li>
                                <a href="#getSelectedContactId" >getSelectedContactId</a>
                            </li>
                            <li>
                                <a href="#getSingleDocRef" >getSingleDocRef</a>
                            </li>
                            <li>
                                <a href="#getUserRef" >getUserRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadExistingContacts" >loadExistingContacts</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#processContactList" >processContactList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#resetContactList" >resetContactList</a>
                            </li>
                            <li>
                                <a href="#setContactObject" >setContactObject</a>
                            </li>
                            <li>
                                <a href="#setSelectedContactId" >setSelectedContactId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#setupContactObserver" >setupContactObserver</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateContact" >updateContact</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(authenticationService: <a href="../injectables/AuthenticationService.html" target="_self">AuthenticationService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:80</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>authenticationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthenticationService.html" target="_self" >AuthenticationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addContact"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addContact</b></span>
                        <a href="#addContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addContact(contactData: <a href="../interfaces/Contact.html" target="_self">Contact</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="321"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:321</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Adds a new contact to Firebase</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactData</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Contact data to add</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves when contact is added</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addContactToUserCollection"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addContactToUserCollection</b></span>
                        <a href="#addContactToUserCollection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addContactToUserCollection(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, phone: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="356"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:356</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Adds a new contact document to the current user&#39;s Firestore contact collection.
Executes within Angular&#39;s injection context.
Accepts an optional phone number parameter (defaults to an empty string).
Logs and rethrows any Firestore errors.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <ul>
<li>Contact&#39;s email address</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <ul>
<li>Contact&#39;s display name</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>phone</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>&#x27;&#x27;</code>
                                            </td>

                                            <td>
                                                    <ul>
<li>Contact&#39;s phone number (optional)</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves when the contact is successfully added</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addCurrentUserToContacts"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addCurrentUserToContacts</b></span>
                        <a href="#addCurrentUserToContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addCurrentUserToContacts()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="152"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:152</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Adds the currently authenticated user to the Firestore contact collection.
Only executes if the user object exists and has both <code>email</code> and <code>displayName</code> properties.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addUser</b></span>
                        <a href="#addUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addUser(userData: <a href="../interfaces/User.html" target="_self">User</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="337"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:337</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Adds a new user document to the Firestore &#39;users&#39; collection.
Executes within Angular&#39;s injection context to ensure proper dependency handling.
Logs and rethrows any Firestore errors.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userData</td>
                                            <td>
                                                            <code><a href="../interfaces/User.html" target="_self" >User</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>User data object containing user information to store</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves when the user is successfully added</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addUserToUserList"></a>
                    <span class="name">
                        <span ><b>addUserToUserList</b></span>
                        <a href="#addUserToUserList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addUserToUserList(element: QueryDocumentSnapshot<DocumentData>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="106"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:106</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Extracts user data from a Firestore document and adds it to <code>userList</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>element</td>
                                            <td>
                                                        <code>QueryDocumentSnapshot&lt;DocumentData&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Firestore document snapshot containing user data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkForRefillContacts"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>checkForRefillContacts</b></span>
                        <a href="#checkForRefillContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkForRefillContacts()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="402"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:402</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if the current Firestore contact collection is empty.
If no contacts exist, repopulates the collection with dummy data.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves after the contact check and refill process</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectContactStream"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>connectContactStream</b></span>
                        <a href="#connectContactStream"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>connectContactStream()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="118"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:118</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Starts the Firestore contacts listener inside Angular&#39;s injection context.
Idempotent: returns immediately if a listener is already active.
On each snapshot, resets and rebuilds the internal contact list.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createContactFinder"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>createContactFinder</b></span>
                        <a href="#createContactFinder"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createContactFinder(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, observer: <a href="../interfaces/Contact.html" target="_self">Observer&lt;Contact | null&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="285"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:285</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a contact finder function</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Contact ID to find</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>observer</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Observer&lt;Contact | null&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Observable observer</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Contact finder function</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteContact"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteContact</b></span>
                        <a href="#deleteContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteContact(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="376"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:376</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Deletes a contact from the Firestore database.
Executes within Angular&#39;s injection context and logs any errors before rethrowing them.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>ID of the contact to delete</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves when the contact has been deleted</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteContactsFromLastSession"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteContactsFromLastSession</b></span>
                        <a href="#deleteContactsFromLastSession"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteContactsFromLastSession()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="388"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:388</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Deletes all contacts stored from the last user session.
Iterates through <code>existingContactsList</code> and removes each contact from Firestore.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disconnectContactStream"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>disconnectContactStream</b></span>
                        <a href="#disconnectContactStream"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>disconnectContactStream()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="209"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:209</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Stops the active Firestore contacts and user listeners if present.
Idempotent: safe to call multiple times; clears the unsubscribe handle
so a later reconnect is possible.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="extractInitials"></a>
                    <span class="name">
                        <span ><b>extractInitials</b></span>
                        <a href="#extractInitials"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>extractInitials(displayName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="448"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:448</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Extracts initials from display name</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>displayName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The user&#39;s display name</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Formatted initials</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fillContactsWithDummyData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>fillContactsWithDummyData</b></span>
                        <a href="#fillContactsWithDummyData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fillContactsWithDummyData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="137"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:137</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Fills the current user&#39;s Firestore contact collection with predefined dummy contacts.
Used primarily for guest users after a new session starts.
Adds all contacts from <code>initialDummyContactsList</code> and then appends the current user if available.
Displays an error in the console and rethrows it if any Firestore operation fails.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findContactInList"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>findContactInList</b></span>
                        <a href="#findContactInList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findContactInList(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="297"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:297</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Finds a contact in the contact list</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Contact ID to find</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Contact.html" target="_self" >Contact | undefined</a></code>

                        </div>
                            <div class="io-description">
                                <p>Contact or undefined</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCleanJson"></a>
                    <span class="name">
                        <span ><b>getCleanJson</b></span>
                        <a href="#getCleanJson"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCleanJson(contact: <a href="../interfaces/Contact.html" target="_self">Contact</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="434"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:434</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Cleans contact object for Firebase storage</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contact</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Contact object to clean</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                <p>Clean contact object</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getContactById"></a>
                    <span class="name">
                        <span ><b>getContactById</b></span>
                        <a href="#getContactById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getContactById(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="272"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:272</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gets a contact by ID as an observable</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Contact ID to find</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Contact.html" target="_self" >Observable&lt;Contact | null&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>Observable of contact or null</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getContactRef"></a>
                    <span class="name">
                        <span ><b>getContactRef</b></span>
                        <a href="#getContactRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getContactRef()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="221"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:221</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the Firestore collection reference for the current user&#39;s contacts.
Uses the current user&#39;s Firestore document ID or the guest ID if no user is logged in.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>CollectionReference&lt;DocumentData&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Firestore collection reference for user contacts</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDummyContactsRef"></a>
                    <span class="name">
                        <span ><b>getDummyContactsRef</b></span>
                        <a href="#getDummyContactsRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDummyContactsRef()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="238"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:238</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the Firestore collection reference for the predefined dummy contacts.
Used as a data source for initializing guest user contact lists.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>CollectionReference&lt;DocumentData&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Firestore collection reference for dummy contacts</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectedContactId"></a>
                    <span class="name">
                        <span ><b>getSelectedContactId</b></span>
                        <a href="#getSelectedContactId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectedContactId()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="200"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:200</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gets the current selected contact ID</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>string | null</code>

                        </div>
                            <div class="io-description">
                                <p>The currently selected contact ID or null</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSingleDocRef"></a>
                    <span class="name">
                        <span ><b>getSingleDocRef</b></span>
                        <a href="#getSingleDocRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSingleDocRef(colId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, docId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="248"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:248</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gets a single document reference</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>colId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Collection ID</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>docId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Document ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>DocumentReference&lt;DocumentData&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Firebase document reference</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserRef"></a>
                    <span class="name">
                        <span ><b>getUserRef</b></span>
                        <a href="#getUserRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserRef()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="229"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:229</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the Firestore collection reference for all registered users.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>CollectionReference&lt;DocumentData&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Firestore collection reference for users</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadExistingContacts"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadExistingContacts</b></span>
                        <a href="#loadExistingContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadExistingContacts()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="89"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:89</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads all currently existing contacts from Firestore
into <code>existingContactsList</code>. Used to determine which
contacts should be removed before inserting the dummy data.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processContactList"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>processContactList</b></span>
                        <a href="#processContactList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processContactList(list: QuerySnapshot<DocumentData>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="176"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:176</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Processes the Firebase contact list and organizes by letter</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>list</td>
                                            <td>
                                                        <code>QuerySnapshot&lt;DocumentData&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Firebase snapshot list</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetContactList"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>resetContactList</b></span>
                        <a href="#resetContactList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>resetContactList()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="162"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:162</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Resets the contact list with alphabetical structure</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setContactObject"></a>
                    <span class="name">
                        <span ><b>setContactObject</b></span>
                        <a href="#setContactObject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setContactObject(obj: DocumentData, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="258"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:258</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a contact object from Firebase document data</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                        <code>DocumentData</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Firebase document data</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Document ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>

                        </div>
                            <div class="io-description">
                                <p>Contacts object</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSelectedContactId"></a>
                    <span class="name">
                        <span ><b>setSelectedContactId</b></span>
                        <a href="#setSelectedContactId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSelectedContactId(contactId: string | null)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="192"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:192</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sets the selected contact ID in the behavior subject</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                        <code>string | null</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The contact ID to select, or null to deselect</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupContactObserver"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>setupContactObserver</b></span>
                        <a href="#setupContactObserver"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setupContactObserver(findAndEmitContact: () => void)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="310"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:310</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sets up the contact observer with interval</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>findAndEmitContact</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Function to find and emit contact</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Cleanup function</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateContact"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateContact</b></span>
                        <a href="#updateContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateContact(contactData: <a href="../interfaces/Contact.html" target="_self">Contact</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="419"
                                    class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:419</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates an existing contact in Firebase</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactData</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Updated contact data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>Promise that resolves when contact is updated</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contactList"></a>
                    <span class="name">
                        <span ><b>contactList</b></span>
                        <a href="#contactList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:54</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Organized contact list grouped alphabetically by initial letter.
This structure is used for rendering and contact management in the UI.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUserId"></a>
                    <span class="name">
                        <span ><b>currentUserId</b></span>
                        <a href="#currentUserId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:71</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="existingContactsList"></a>
                    <span class="name">
                        <span ><b>existingContactsList</b></span>
                        <a href="#existingContactsList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:62</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>List of existing contacts currently stored in the Firestore collection.
Used primarily for guest users to determine which contacts
already exist in the database, so they can be deleted and replaced
with the predefined dummy contact list.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="firestore"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>firestore</b></span>
                        <a href="#firestore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Firestore)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:33</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Firebase Firestore instance</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialDummyContactsList"></a>
                    <span class="name">
                        <span ><b>initialDummyContactsList</b></span>
                        <a href="#initialDummyContactsList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Contact.html" target="_self" >Contact[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>Contacts</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:74</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Predefined dummy contacts used for guest users</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="injector"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>injector</b></span>
                        <a href="#injector"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(EnvironmentInjector)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Angular environment injector for dependency injection context</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notInLogIn"></a>
                    <span class="name">
                        <span ><b>notInLogIn</b></span>
                        <a href="#notInLogIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:42</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Flag indicating if user is not in login state</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedContactId$"></a>
                    <span class="name">
                        <span ><b>selectedContactId$</b></span>
                        <a href="#selectedContactId$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.selectedContactIdSubject.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:80</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Observable for selected contact ID changes</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedContactIdSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>selectedContactIdSubject</b></span>
                        <a href="#selectedContactIdSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;string | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:77</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Private behavior subject for selected contact ID</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="signUpButtonVisible"></a>
                    <span class="name">
                        <span ><b>signUpButtonVisible</b></span>
                        <a href="#signUpButtonVisible"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:45</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Controls visibility of signup button</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toastService"></a>
                    <span class="name">
                        <span ><b>toastService</b></span>
                        <a href="#toastService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(ToastService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:39</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Provides access to the toast service for UI messages</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubList"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>unsubList</b></span>
                        <a href="#unsubList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:48</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Unsubscribe handle for the active Firestore listener (undefined when disconnected).</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userList"></a>
                    <span class="name">
                        <span ><b>userList</b></span>
                        <a href="#userList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">src/app/main-pages/shared-data/contact-data.service.ts:69</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>List of all users fetched from the Firestore &#39;users&#39; collection.
Used to identify the current user by comparing email addresses
and to retrieve the correct Firestore document ID for that user.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Firestore,
  collection,
  doc,
  onSnapshot,
  addDoc,
  deleteDoc,
  updateDoc,
  DocumentData,
  QuerySnapshot,
  QueryDocumentSnapshot,
  CollectionReference,
  DocumentReference,
} from &#x27;@angular/fire/firestore&#x27;;
import { EnvironmentInjector, Injectable, inject, runInInjectionContext } from &#x27;@angular/core&#x27;;
import { BehaviorSubject, Observable, Observer } from &#x27;rxjs&#x27;;
import { Contact } from &#x27;./../shared-data/contact.interface&#x27;;
import { User } from &#x27;./user.interface&#x27;;
import { AuthenticationService } from &#x27;../../auth/services/authentication.service&#x27;;
import { getDocs } from &#x27;firebase/firestore&#x27;;
import { Contacts } from &#x27;./contacts.data&#x27;;
import { ToastService } from &#x27;../../shared/services/toast.service&#x27;;

/**
 * Service for managing contact data operations with Firebase Firestore
 * Handles CRUD operations, contact organization, and real-time updates
 */
@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class ContactDataService {
  /** Firebase Firestore instance */
  private readonly firestore &#x3D; inject(Firestore);

  /** Angular environment injector for dependency injection context */
  private readonly injector &#x3D; inject(EnvironmentInjector);

  /** Provides access to the toast service for UI messages */
  toastService &#x3D; inject(ToastService);

  /** Flag indicating if user is not in login state */
  notInLogIn: boolean &#x3D; false;

  /** Controls visibility of signup button */
  signUpButtonVisible &#x3D; true;

  /** Unsubscribe handle for the active Firestore listener (undefined when disconnected). */
  unsubList?: () &#x3D;&gt; void;

  /**
   * Organized contact list grouped alphabetically by initial letter.
   * This structure is used for rendering and contact management in the UI.
   */
  contactList: { letter: string; contacts: Contact[] }[] &#x3D; [];

  /**
   * List of existing contacts currently stored in the Firestore collection.
   * Used primarily for guest users to determine which contacts
   * already exist in the database, so they can be deleted and replaced
   * with the predefined dummy contact list.
   */
  existingContactsList: { email: string; id: string }[] &#x3D; [];

  /**
   * List of all users fetched from the Firestore &#x27;users&#x27; collection.
   * Used to identify the current user by comparing email addresses
   * and to retrieve the correct Firestore document ID for that user.
   */
  userList: { uid: string; email: string; id: string }[] &#x3D; [];

  currentUserId!: string;

  /** Predefined dummy contacts used for guest users */
  initialDummyContactsList: Contact[] &#x3D; Contacts;

  /** Private behavior subject for selected contact ID */
  private selectedContactIdSubject &#x3D; new BehaviorSubject&lt;string | null&gt;(null);

  /** Observable for selected contact ID changes */
  selectedContactId$ &#x3D; this.selectedContactIdSubject.asObservable();

  constructor(private authenticationService: AuthenticationService) {}

  /**
   * Loads all currently existing contacts from Firestore
   * into &#x60;existingContactsList&#x60;. Used to determine which
   * contacts should be removed before inserting the dummy data.
   */
  public async loadExistingContacts(): Promise&lt;void&gt; {
    this.existingContactsList &#x3D; [];
    const contactsToDeleteSnap &#x3D; await runInInjectionContext(this.injector, () &#x3D;&gt; getDocs(this.getContactRef()));

    contactsToDeleteSnap.forEach((doc) &#x3D;&gt; {
      const data &#x3D; doc.data();
      const id &#x3D; doc.id;
      const email &#x3D; data[&#x27;email&#x27;] as string;

      this.existingContactsList.push({ id, email });
    });
  }

  /**
   * Extracts user data from a Firestore document and adds it to &#x60;userList&#x60;.
   * @param {QueryDocumentSnapshot&lt;DocumentData&gt;} element - Firestore document snapshot containing user data
   */
  addUserToUserList(element: QueryDocumentSnapshot&lt;DocumentData&gt;): void {
    const uid &#x3D; element.data()[&#x27;uid&#x27;] as string;
    const email &#x3D; element.data()[&#x27;email&#x27;] as string;
    const id &#x3D; element.id;
    this.userList.push({ uid, email, id });
  }

  /**
   * Starts the Firestore contacts listener inside Angular&#x27;s injection context.
   * Idempotent: returns immediately if a listener is already active.
   * On each snapshot, resets and rebuilds the internal contact list.
   */
  async connectContactStream(): Promise&lt;void&gt; {
    if (this.unsubList) return;

    runInInjectionContext(this.injector, () &#x3D;&gt; {
      this.unsubList &#x3D; onSnapshot(this.getContactRef(), (list) &#x3D;&gt; {
        this.resetContactList();
        this.processContactList(list);
      });
    });

    this.checkForRefillContacts();
  }

  /**
   * Fills the current user&#x27;s Firestore contact collection with predefined dummy contacts.
   * Used primarily for guest users after a new session starts.
   * Adds all contacts from &#x60;initialDummyContactsList&#x60; and then appends the current user if available.
   * Displays an error in the console and rethrows it if any Firestore operation fails.
   */
  async fillContactsWithDummyData(): Promise&lt;void&gt; {
    try {
      for (const c of this.initialDummyContactsList) {
        await this.addContactToUserCollection(c.email, c.name, c.phone);
      }
      await this.addCurrentUserToContacts();
    } catch (error) {
      this.toastService.throwToast({ code: &#x27;contact/add/dummyError&#x27; });
    }
  }

  /**
   * Adds the currently authenticated user to the Firestore contact collection.
   * Only executes if the user object exists and has both &#x60;email&#x60; and &#x60;displayName&#x60; properties.
   */
  async addCurrentUserToContacts(): Promise&lt;void&gt; {
    if (this.authenticationService.currentUser) {
      if (this.authenticationService.currentUser.email &amp;&amp; this.authenticationService.currentUser.displayName)
        await this.addContactToUserCollection(this.authenticationService.currentUser.email, this.authenticationService.currentUser.displayName);
    }
  }

  /**
   * Resets the contact list with alphabetical structure
   */
  private resetContactList(): void {
    this.contactList &#x3D; [];
    for (let i &#x3D; 65; i &lt;&#x3D; 90; i++) {
      this.contactList.push({
        letter: String.fromCharCode(i),
        contacts: [],
      });
    }
  }

  /**
   * Processes the Firebase contact list and organizes by letter
   * @param {QuerySnapshot&lt;DocumentData&gt;} list - Firebase snapshot list
   */
  private processContactList(list: QuerySnapshot&lt;DocumentData&gt;): void {
    list.forEach((element: QueryDocumentSnapshot&lt;DocumentData&gt;) &#x3D;&gt; {
      const contact &#x3D; this.setContactObject(element.data(), element.id);
      const firstLetter &#x3D; contact.name.charAt(0).toUpperCase();
      const index &#x3D; this.contactList.findIndex((singleContact) &#x3D;&gt; singleContact.letter &#x3D;&#x3D;&#x3D; firstLetter);
      if (index !&#x3D;&#x3D; -1) {
        this.contactList[index].contacts.push(contact);
        this.contactList[index].contacts.sort((a, b) &#x3D;&gt; a.name.localeCompare(b.name));
      }
    });
  }

  /**
   * Sets the selected contact ID in the behavior subject
   * @param {string | null} contactId - The contact ID to select, or null to deselect
   */
  setSelectedContactId(contactId: string | null): void {
    this.selectedContactIdSubject.next(contactId);
  }

  /**
   * Gets the current selected contact ID
   * @returns {string | null} The currently selected contact ID or null
   */
  getSelectedContactId(): string | null {
    return this.selectedContactIdSubject.getValue();
  }

  /**
   * Stops the active Firestore contacts and user listeners if present.
   * Idempotent: safe to call multiple times; clears the unsubscribe handle
   * so a later reconnect is possible.
   */
  async disconnectContactStream(): Promise&lt;void&gt; {
    if (this.unsubList) {
      this.unsubList();
      this.unsubList &#x3D; undefined;
    }
  }

  /**
   * Returns the Firestore collection reference for the current user&#x27;s contacts.
   * Uses the current user&#x27;s Firestore document ID or the guest ID if no user is logged in.
   * @returns {CollectionReference&lt;DocumentData&gt;} Firestore collection reference for user contacts
   */
  getContactRef(): CollectionReference&lt;DocumentData&gt; {
    return collection(this.firestore, &#x60;users/${this.currentUserId}/contacts&#x60;);
  }

  /**
   * Returns the Firestore collection reference for all registered users.
   * @returns {CollectionReference&lt;DocumentData&gt;} Firestore collection reference for users
   */
  getUserRef(): CollectionReference&lt;DocumentData&gt; {
    return collection(this.firestore, &#x27;users&#x27;);
  }

  /**
   * Returns the Firestore collection reference for the predefined dummy contacts.
   * Used as a data source for initializing guest user contact lists.
   * @returns {CollectionReference&lt;DocumentData&gt;} Firestore collection reference for dummy contacts
   */
  getDummyContactsRef(): CollectionReference&lt;DocumentData&gt; {
    return collection(this.firestore, &#x27;contacts&#x27;);
  }

  /**
   * Gets a single document reference
   * @param {string} colId - Collection ID
   * @param {string} docId - Document ID
   * @returns {DocumentReference&lt;DocumentData&gt;} Firebase document reference
   */
  getSingleDocRef(colId: string, docId: string): DocumentReference&lt;DocumentData&gt; {
    return doc(collection(this.firestore, colId), docId);
  }

  /**
   * Creates a contact object from Firebase document data
   * @param {DocumentData} obj - Firebase document data
   * @param {string} id - Document ID
   * @returns {Contact} Contacts object
   */
  setContactObject(obj: DocumentData, id: string): Contact {
    return {
      id: id || &#x27;&#x27;,
      name: obj[&#x27;name&#x27;] as string,
      email: obj[&#x27;email&#x27;] as string,
      phone: (obj[&#x27;phone&#x27;] as string) || &#x27;&#x27;,
    };
  }

  /**
   * Gets a contact by ID as an observable
   * @param {string} id - Contact ID to find
   * @returns {Observable&lt;Contacts | null&gt;} Observable of contact or null
   */
  getContactById(id: string): Observable&lt;Contact | null&gt; {
    return new Observable&lt;Contact | null&gt;((observer) &#x3D;&gt; {
      const findAndEmitContact &#x3D; this.createContactFinder(id, observer);
      return this.setupContactObserver(findAndEmitContact);
    });
  }

  /**
   * Creates a contact finder function
   * @param {string} id - Contact ID to find
   * @param {Observer&lt;Contacts | null&gt;} observer - Observable observer
   * @returns {() &#x3D;&gt; void} Contact finder function
   */
  private createContactFinder(id: string, observer: Observer&lt;Contact | null&gt;): () &#x3D;&gt; void {
    return () &#x3D;&gt; {
      const contact &#x3D; this.findContactInList(id);
      observer.next(contact || null);
    };
  }

  /**
   * Finds a contact in the contact list
   * @param {string} id - Contact ID to find
   * @returns {Contacts | undefined} Contact or undefined
   */
  private findContactInList(id: string): Contact | undefined {
    for (const group of this.contactList) {
      const contact &#x3D; group.contacts.find((c) &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; id);
      if (contact) return contact;
    }
    return undefined;
  }

  /**
   * Sets up the contact observer with interval
   * @param {() &#x3D;&gt; void} findAndEmitContact - Function to find and emit contact
   * @returns {() &#x3D;&gt; void} Cleanup function
   */
  private setupContactObserver(findAndEmitContact: () &#x3D;&gt; void): () &#x3D;&gt; void {
    findAndEmitContact();
    const intervalId &#x3D; setInterval(findAndEmitContact, 300);
    return () &#x3D;&gt; clearInterval(intervalId);
  }

  /**
   * Adds a new contact to Firebase
   * @param {Contact} contactData - Contact data to add
   * @returns {Promise&lt;void&gt;} Promise that resolves when contact is added
   */
  async addContact(contactData: Contact): Promise&lt;void&gt; {
    try {
      await runInInjectionContext(this.injector, () &#x3D;&gt; addDoc(this.getContactRef(), contactData));
    } catch (error: unknown) {
      this.toastService.throwToast({ code: &#x27;contact/add/error&#x27; });
    }
  }

  /**
   * Adds a new user document to the Firestore &#x27;users&#x27; collection.
   * Executes within Angular&#x27;s injection context to ensure proper dependency handling.
   * Logs and rethrows any Firestore errors.
   *
   * @param {User} userData - User data object containing user information to store
   * @returns {Promise&lt;void&gt;} Promise that resolves when the user is successfully added
   */
  async addUser(userData: User): Promise&lt;void&gt; {
    try {
      await runInInjectionContext(this.injector, () &#x3D;&gt; addDoc(this.getUserRef(), userData));
    } catch (error: unknown) {
      this.toastService.throwToast({ code: &#x27;user/add/error&#x27; });
    }
  }

  /**
   * Adds a new contact document to the current user&#x27;s Firestore contact collection.
   * Executes within Angular&#x27;s injection context.
   * Accepts an optional phone number parameter (defaults to an empty string).
   * Logs and rethrows any Firestore errors.
   *
   * @param {string} email - Contact&#x27;s email address
   * @param {string} name - Contact&#x27;s display name
   * @param {string} [phone&#x3D;&#x27;&#x27;] - Contact&#x27;s phone number (optional)
   * @returns {Promise&lt;void&gt;} Promise that resolves when the contact is successfully added
   */
  async addContactToUserCollection(email: string, name: string, phone: string &#x3D; &#x27;&#x27;): Promise&lt;void&gt; {
    try {
      await runInInjectionContext(this.injector, () &#x3D;&gt;
        addDoc(this.getContactRef(), {
          email: email,
          name: name,
          phone: phone,
        })
      );
    } catch (error: unknown) {
      this.toastService.throwToast({ code: &#x27;user/add/colleciton/error&#x27; });
    }
  }

  /**
   * Deletes a contact from the Firestore database.
   * Executes within Angular&#x27;s injection context and logs any errors before rethrowing them.
   * @param {string} contactId - ID of the contact to delete
   * @returns {Promise&lt;void&gt;} Promise that resolves when the contact has been deleted
   */
  async deleteContact(contactId: string): Promise&lt;void&gt; {
    try {
      await runInInjectionContext(this.injector, () &#x3D;&gt; deleteDoc(doc(this.getContactRef(), contactId)));
    } catch (error: unknown) {
      this.toastService.throwToast({ code: &#x27;contact/delete/error&#x27; });
    }
  }

  /**
   * Deletes all contacts stored from the last user session.
   * Iterates through &#x60;existingContactsList&#x60; and removes each contact from Firestore.
   */
  async deleteContactsFromLastSession() {
    const list: { email: string; id: string }[] &#x3D; this.existingContactsList;

    for (let i &#x3D; 0; i &lt; this.existingContactsList.length; i++) {
      await this.deleteContact(list[i].id);
    }
  }

  /**
   * Checks if the current Firestore contact collection is empty.
   * If no contacts exist, repopulates the collection with dummy data.
   *
   * @returns {Promise&lt;void&gt;} Promise that resolves after the contact check and refill process
   */
  async checkForRefillContacts(): Promise&lt;void&gt; {
    try {
      await this.loadExistingContacts();

      if (this.existingContactsList.length &#x3D;&#x3D;&#x3D; 0) {
        this.fillContactsWithDummyData();
      }
    } catch (error) {
      this.toastService.throwToast({ code: &#x27;contact/read/existingContacts/error&#x27; });
    }
  }

  /**
   * Updates an existing contact in Firebase
   * @param {Contact} contactData - Updated contact data
   * @returns {Promise&lt;void&gt;} Promise that resolves when contact is updated
   */
  async updateContact(contactData: Contact): Promise&lt;void&gt; {
    if (contactData.id &#x3D;&#x3D;&#x3D; undefined) return;
    const contactDataId: string &#x3D; contactData.id;
    try {
      await runInInjectionContext(this.injector, () &#x3D;&gt; updateDoc(this.getSingleDocRef(&#x60;users/${this.currentUserId}/contacts&#x60;, contactDataId), this.getCleanJson(contactData)));
    } catch (err: unknown) {
      this.toastService.throwToast({ code: &#x27;contact/update/error&#x27; });
    }
  }

  /**
   * Cleans contact object for Firebase storage
   * @param {Contact} contact - Contact object to clean
   * @returns {Omit&lt;Contacts, &#x27;id&#x27;&gt; &amp; { id?: string }} Clean contact object
   */
  getCleanJson(contact: Contact): Omit&lt;Contact, &#x27;id&#x27;&gt; &amp; { id?: string } {
    return {
      id: contact.id,
      name: contact.name,
      email: contact.email,
      phone: contact.phone,
    };
  }

  /**
   * Extracts initials from display name
   * @param {string} displayName - The user&#x27;s display name
   * @returns {string} Formatted initials
   */
  extractInitials(displayName: string): string {
    const names &#x3D; displayName.split(&#x27; &#x27;);
    if (names.length &gt;&#x3D; 2) {
      return (names[0][0] + names[1][0]).toUpperCase();
    }
    return names[0][0].toUpperCase();
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ContactDataService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
