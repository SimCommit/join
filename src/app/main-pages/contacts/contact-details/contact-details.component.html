<section class="contact-detail" [class.animateContent]="animated">
  @if (contact$ | async; as contact) {
    @if (showBackButton) {
      <button (click)="goBack()" class="back-button">← Zurück zu Kontakten</button>
    }
    
    <button (click)="goBack()" class="mobile-back-arrow">
      <img src="img/icons/arrow-left-line.svg" alt="Back" />
    </button>

    <div class="contact-name">
      <div 
        class="contact-icon" 
        [style.background-color]="getRandomColor(contact.name)">
        {{ getInitials(contact.name) }}
      </div>
      <div class="contact-info-section">
        <h2>{{ contact.name }}</h2>
        <div class="contact-actions">
          <button class="action-btn edit-btn" (click)="editContact(contact)" title="Kontakt bearbeiten">
            <img src="img/icons/edit_contact.svg" alt="Edit Contact" />
            <span>Edit</span>
          </button>
          <button class="action-btn delete-btn" (click)="contact.id && deleteContact(contact.id)" title="Kontakt löschen">
            <img src="img/icons/delete_contact.svg" alt="Delete Contact" />
            <span>Delete</span>
          </button>
        </div>
      </div>
    </div>

    <div class="contact-header">
      <h2>Contact Information</h2>
    </div>

    <div class="contact-info">
      <div class="info-item">
        <label>Email</label>
        <a href="mailto:{{ contact.email }}">{{ contact.email }}</a>
      </div>

      @if (contact.phone) {
        <div class="info-item">
          <label>Phone</label>
          <a href="tel:{{ contact.phone }}">{{ contact.phone }}</a>
        </div>
      }
    </div>
  } @else {
    <p>Contact deleted</p>
  }
</section>
